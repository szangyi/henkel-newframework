var API=null,SCORM_API="API_1484_11",SCORM_TRUE="true",SCORM_FALSE="false",SCORM_NO_ERROR="0";function GetAPI(e){null!=e.parent&&e.parent!=e&&(API=ScanForAPI(e.parent)),null==API&&null!=e.opener&&(API=ScanForAPI(e.opener))}var bootstrapTries=0,bootstrapMaxTries=500;function ScanForAPI(e){for(;null==e[SCORM_API]&&null!=e.parent&&e.parent!=e;){if(++bootstrapTries>bootstrapMaxTries)return null;e=e.parent}return e[SCORM_API]}var SCORM={init:ScormProcessInitialize,terminate:ScormProcessTerminate,getValue:function(e,t){return ScormProcessGetValue(e,t)},setValue:function(e,t){return ScormProcessSetValue(e,t)},time:function(e){return ConvertMilliSecondsIntoSCORM2004Time(e)},onError:function(e){SCORM.addEventListener("SCORM.error",(function(t){e(t.detail)}))},dispatchEvent:function(e){dispatchEvent(e)}},terminateCalled=!1,initialized=!1;function ScormProcessInitialize(){if(GetAPI(window),null!=API)if(API.Initialize("")!=SCORM_FALSE)initialized=!0;else{var e=API.GetLastError(),t=API.GetErrorString(e),n=API.GetDiagnostic(e),r="Number: "+e+"\nDescription: "+t+"\nDiagnostic: "+n;SCORM.dispatchEvent(new CustomEvent("SCORM.Error",{detail:{number:e,string:t,diagnostic:n,message:"Error - Could not initialize communication with the LMS.\n\nYour results may not be recorded.\n\n"+r}}))}else SCORM.dispatchEvent(new CustomEvent("SCORM.error",{detail:{number:null,string:null,diagnostic:null,message:"Could not establish a connection with the LMS.\n\nYour results may not be recorded"}}))}function ScormProcessTerminate(){if(0!=initialized&&1!=terminateCalled){var e=API.Terminate("");if(terminateCalled=!0,e!=SCORM_FALSE);else{var t=API.GetLastError(),n=API.GetErrorString(t),r=API.GetDiagnostic(t),i="Number: "+t+"\nDescription: "+n+"\nDiagnostic: "+r;SCORM.dispatchEvent(new CustomEvent("SCORM.Error",{detail:{number:t,string:n,diagnostic:r,message:"Error - Could not terminate communication with the LMS.\n\nYour results may not be recorded.\n\n"+i}}))}}}function ScormProcessGetValue(e,t){if(0!=initialized&&1!=terminateCalled){var n=API.GetValue(e);if(1==t&&""==n){var r=API.GetLastError();if(r!=SCORM_NO_ERROR){var i=API.GetErrorString(r),o=API.GetDiagnostic(r),a="Number: "+r+"\nDescription: "+i+"\nDiagnostic: "+o;return SCORM.dispatchEvent(new CustomEvent("SCORM.Error",{detail:{number:r,string:i,diagnostic:o,message:"Error - Could not retrieve a value from the LMS.\n\n"+a}})),""}}return n}}function ScormProcessSetValue(e,t){if(0!=initialized&&1!=terminateCalled)if(API.SetValue(e,t)!=SCORM_FALSE);else{var n=API.GetLastError(),r=API.GetErrorString(n),i=API.GetDiagnostic(n),o="Number: "+n+"\nDescription: "+r+"\nDiagnostic: "+i;SCORM.dispatchEvent(new CustomEvent("SCORM.Error",{detail:{number:n,string:r,diagnostic:i,message:"Error - Could not store a value in the LMS.\n\nYour results may not be recorded.\n\n"+o}}))}}function ConvertMilliSecondsIntoSCORM2004Time(e){var t,n,r,i,o,a,s,l="",u=6e3,c=36e4,S=864e4,m=26298e4,d=315576e4;return t=Math.floor(e/10),t-=(s=Math.floor(t/d))*d,t-=(a=Math.floor(t/m))*m,t-=(o=Math.floor(t/S))*S,t-=(i=Math.floor(t/c))*c,t-=(r=Math.floor(t/u))*u,s>0&&(l+=s+"Y"),a>0&&(l+=a+"M"),o>0&&(l+=o+"D"),(t-=100*(n=Math.floor(t/100)))+n+r+i>0&&(l+="T",i>0&&(l+=i+"H"),r>0&&(l+=r+"M"),t+n>0&&(l+=n,t>0&&(l+="."+t),l+="S")),""==l&&(l="0S"),l="P"+l}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();